import { $state, $effect } from "../olova.js";
function createMemo(t, e = []) {
  const [o, s] = $state(void 0),
    [c, a] = $state(e),
    [i, r] = $state(void 0);
  return (
    $effect(() => {
      if (
        void 0 === i ||
        ((f = c),
        (o = e).length !== f.length || o.some((t, e) => !Object.is(t, f[e])))
      ) {
        const o = t();
        Object.is(o, i) || (r(o), s(o)), a(e);
      }
      var o, f;
    }),
    o
  );
}
export { createMemo };
